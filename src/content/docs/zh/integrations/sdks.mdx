---
title: å¼€å‘è€… SDK æ¥å…¥ (Node/Python)
description: ä½¿ç”¨ä»£ç ç›´æ¥å‘èµ· HTTP è¯·æ±‚è°ƒç”¨ SU8.Codes æ¨¡å‹ç½‘å…³
---

import { Tabs, TabItem } from '@astrojs/starlight/components';

å¦‚æœæ‚¨ä¸éœ€è¦å€ŸåŠ© IDE æ’ä»¶ï¼Œè€Œæ˜¯æƒ³åœ¨è‡ªå·±çš„è„šæœ¬/æœåŠ¡ä¸­ç›´æ¥è°ƒç”¨å¤§æ¨¡å‹ï¼Œæœ€ç¨³å®šã€æœ€å…æµåª’ä½“ä¾èµ–çš„æ–¹å¼å°±æ˜¯**ç›´æ¥æ„é€ æ ‡å‡†çš„ HTTP è¯·æ±‚**ã€‚

æˆ‘ä»¬çš„ç½‘å…³å®Œå…¨å…¼å®¹ OpenAI çš„è¯·æ±‚æ ¼å¼ï¼Œæ‚¨åªéœ€è¦å‡†å¤‡ï¼š
- `OPENAI_API_KEY` ç¯å¢ƒå˜é‡ï¼ˆå¡«å…¥æ‚¨åœ¨ SU8.Codes è·å–çš„ Keyï¼‰ã€‚
- ç¡®ä¿è¯·æ±‚ç»ˆç«¯èƒ½å¤Ÿè¿æ¥å…¬ç½‘ï¼ˆç”±äºæˆ‘ä»¬åœ¨å›½å†…å¸ƒæ”¾äº†åˆ†å‘èŠ‚ç‚¹ï¼Œæ‚¨**æ— éœ€**å†ä¸ºæ‚¨æœ¬åœ°çš„ä»£ç ç¯å¢ƒé…ç½®ç¹ççš„ HTTP Proxyï¼‰ã€‚

ä¸‹é¢æä¾›ä¸¤ç§æœ€å¸¸ç”¨è¯­è¨€çš„æœ€å°å¯è¡Œæ€§æ¼”ç¤ºï¼ˆæ— éœ€å®‰è£…å®˜æ–¹åºå¤§çš„ `openai` ä¾èµ–åº“ï¼Œé›¶è´Ÿæ‹…å¯åŠ¨ï¼‰ã€‚

<Tabs>
  <TabItem label="Node.js (Fetch)">
    è¿™æ˜¯æœ€é€šç”¨ã€æœ€ä¸æŒ‘ç‰ˆæœ¬çš„å†™æ³•ï¼Œç›´æ¥åˆ©ç”¨ Node.js 18+ å†…ç½®çš„ `fetch` è¿›è¡Œè°ƒç”¨ã€‚

    ```javascript
    // demo.mjs
    const baseURL = 'https://www.su8.codes/codex/v1';
    const apiKey = process.env.OPENAI_API_KEY;

    if (!apiKey) {
      throw new Error('æœªæ£€æµ‹åˆ° OPENAI_API_KEY ç¯å¢ƒå˜é‡');
    }

    async function main() {
      // æ­¤å¤„è¯·æ±‚æˆ‘ä»¬ä¸“æœ‰çš„ /responses ä»£ç†ç«¯ç‚¹ï¼Œæ‚¨ä¹Ÿå¯ä»¥æ¢æˆæ ‡å‡†çš„ /chat/completions
      const resp = await fetch(`${baseURL}/responses`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          Authorization: `Bearer ${apiKey}`
        },
        body: JSON.stringify({
          model: 'gpt-5.2',
          reasoning_effort: 'high', // å¯é€‰: low / medium / high / xhigh (é€‚ç”¨äºæ”¯æŒæ€è€ƒå¼ºåº¦çš„æ¨¡å‹)
          instructions: 'ä½ æ˜¯ä¸€ä¸ªç»è¿‡ä¸¥æ ¼è®­ç»ƒçš„ç»ˆæç¼–ç¨‹åŠ©æ‰‹', // ä¹Ÿå°±æ˜¯ System Prompt
          stream: true, // å¼ºçƒˆå»ºè®®å¼€å¯æµå¼ï¼Œé˜²æ­¢é•¿å›å¤è¢« Cloudflare æ‹¦æˆªæŠ¥ 502
          input: [
            {
              type: 'message',
              role: 'user',
              content: [{ type: 'input_text', text: 'ä½ å¥½ï¼Œæµ‹è¯•ç½‘å…³è¿é€šæ€§ã€‚' }]
            }
          ]
        })
      });

      if (!resp.ok) {
        const text = await resp.text();
        throw new Error(`${resp.status} ${resp.statusText}\n${text}`);
      }
      
      console.log('âœ… è¯·æ±‚æˆåŠŸè¿”å›ï¼š\n');
      const reader = resp.body.getReader();
      const decoder = new TextDecoder();
      while (true) {
        const { done, value } = await reader.read();
        if (done) break;
        process.stdout.write(decoder.decode(value, { stream: true }));
      }
      console.log('\n');
    }

    main();
    ```
  </TabItem>

  <TabItem label="Python (Requests)">
    åŒæ ·èµ°æœ€é€šç”¨çš„ HTTP è°ƒç”¨ï¼Œç¨³å®šä¸”ä¸ç»•å¼¯ã€‚æ‚¨åªéœ€ç¡®ä¿å®‰è£…äº† `requests` åº“ (`pip install requests`)ã€‚

    ```python
    # demo.py
    import os
    import requests

    base_url = "https://www.su8.codes/codex/v1"
    api_key = os.environ.get("OPENAI_API_KEY")

    if not api_key:
        raise RuntimeError("æœªæ£€æµ‹åˆ° OPENAI_API_KEY ç¯å¢ƒå˜é‡")

    # æ³¨æ„å¢åŠ åˆç†çš„ timeoutï¼Œé˜²æ­¢å•æ¬¡è¯·æ±‚æ­»é”
    resp = requests.post(
        f"{base_url}/responses",
        headers={
            "Content-Type": "application/json",
            "Authorization": f"Bearer {api_key}",
        },
        json={
            "model": "gpt-5.2",
            "reasoning_effort": "high", # å¯é€‰: low / medium / high / xhigh (é€‚ç”¨äºæ”¯æŒæ€è€ƒå¼ºåº¦çš„æ¨¡å‹)
            "instructions": "ä½ æ˜¯ä¸€ä¸ªç»è¿‡ä¸¥æ ¼è®­ç»ƒçš„ç»ˆæç¼–ç¨‹åŠ©æ‰‹", # ä¹Ÿå°±æ˜¯ System Prompt
            "stream": True, # å¼ºçƒˆå»ºè®®å¼€å¯æµå¼ï¼Œé˜²æ­¢é•¿å›å¤è¢« Cloudflare æ‹¦æˆªæŠ¥ 502
            "input": [
                {
                    "type": "message",
                    "role": "user",
                    "content": [{"type": "input_text", "text": "ä½ å¥½ï¼Œæµ‹è¯•ç½‘å…³è¿é€šæ€§ã€‚"}],
                }
            ],
        },
        stream=True,
        timeout=60,
    )

    resp.raise_for_status()
    print("âœ… è¯·æ±‚æˆåŠŸè¿”å›ï¼š\n")
    for line in resp.iter_lines():
        if line:
            print(line.decode('utf-8'))
    ```
  </TabItem>
</Tabs>

## æ‰¾ä¸åˆ°åˆé€‚çš„æ¨¡å‹åï¼Ÿ

å¦‚æœæ‚¨åœ¨ä»£ç ä¸­ä¸çŸ¥é“è¯¥ä¼ å…¥ä½•ç§æ¨¡å‹æ ‡è¯†ï¼ˆå¦‚ `model: 'xxx'`ï¼‰ï¼Œè¯·éšæ—¶åœ¨æ­¤æŸ¥é˜…æœ€æ–°çš„å¯ç”¨åˆ—è¡¨å¹¶ç›´æ¥å¤åˆ¶ï¼š
ğŸ‘‰ **[å…¨ç«™æ”¯æŒæ¨¡å‹ç»Ÿæ½æ¦‚è§ˆ](/zh/tools/models/)**
